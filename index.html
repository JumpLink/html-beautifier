<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" type="text/css"; href="ThirdParty/bootstrap-3.3.2/css/bootstrap.css">
    <link rel="stylesheet" type="text/css"; href="ThirdParty/bootstrap-3.3.2/css/bootstrap-theme.css">
    <link rel="stylesheet" type="text/css"; href="ThirdParty/codemirror-4.12/lib/codemirror.css">
    <link rel="stylesheet" type="text/css"; href="Stylesheet/style.css">
    <link rel="stylesheet" type="text/css"; media="print" href="Stylesheet/print.css">
    <script type="text/javascript" src="ThirdParty/codemirror-4.12/lib/codemirror.js"></script>
    <script type="text/javascript" src="ThirdParty/codemirror-4.12/mode/xml/xml.js"></script>
    <script type="text/javascript" src="ThirdParty/codemirror-4.12/mode/css/css.js"></script>
    <script type="text/javascript" src="ThirdParty/codemirror-4.12/mode/javascript/javascript.js"></script>
    <script type="text/javascript" src="ThirdParty/codemirror-4.12/mode/htmlmixed/htmlmixed.js"></script>
    <script type="text/javascript" src="ThirdParty/js-beautify-1.5.4/js/lib/beautify.js"></script>
    <script type="text/javascript" src="ThirdParty/js-beautify-1.5.4/js/lib/beautify-css.js"></script>
    <script type="text/javascript" src="ThirdParty/js-beautify-1.5.4/js/lib/beautify-html.js"></script>
</head>
<body>
    <div id="editorwrapper">
        <textarea id="editor"></textarea>
    </div>

    <div class="btn-group" id="base-btn-group" role="group" aria-label="...">
        <button class="btn btn-primary" id="format" onclick="format();" title="Formatieren">
            <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
        </button>
        <button class="btn btn-success" id="print" onclick="preparePrint();" title="Formatieren und drucken">
            <span class="glyphicon glyphicon-print" aria-hidden="true"></span>
        </button>
    </div>
    <script type="text/javascript">
        var editor;

        var format = function () {
            var options = {
              'indent_inner_html': true,
              'indent_size': 2,
              'indent_char': ' ',
              'wrap_line_length': 78,
              'brace_style': 'expand',
              'unformatted': ['a', 'sub', 'sup', 'b', 'i', 'u'],
              'preserve_newlines': true,
              'max_preserve_newlines': 5,
              'indent_handlebars': false
            };
            var html = editor.getValue();
            var clean = html_beautify(html, options);
            editor.setValue(clean);
        }

        var preparePrint = function () {
            editor.setOption("lineWrapping", true );
            format();
            window.print();
        }

        window.onload = function () {
            var options = {
                lineNumbers: true,
                mode: "htmlmixed",
                viewportMargin: Infinity,
                lineWrapping: false,
            }
            editor = CodeMirror.fromTextArea(document.getElementById("editor"),options);
        }
    </script>
</body>
</html> 